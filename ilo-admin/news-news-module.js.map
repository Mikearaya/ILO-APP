{"version":3,"sources":["webpack:///./src/app/features/news/news-api.service.ts","webpack:///./src/app/features/news/news-data.model.ts","webpack:///./src/app/features/news/news-form/news-form.component.css","webpack:///./src/app/features/news/news-form/news-form.component.html","webpack:///./src/app/features/news/news-form/news-form.component.ts","webpack:///./src/app/features/news/news-routing.module.ts","webpack:///./src/app/features/news/news-view/news-view.component.css","webpack:///./src/app/features/news/news-view/news-view.component.html","webpack:///./src/app/features/news/news-view/news-view.component.ts","webpack:///./src/app/features/news/news.module.ts"],"names":[],"mappings":"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","file":"news-news-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { NewsViewModel, NewsModel, News } from './news-data.model';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class NewsApiService {\n  private httpBody: URLSearchParams;\n  private controller = 'articles';\n  constructor(private httpClient: HttpClient) {}\n\n  getNewsById(id: number): Observable<News> {\n    return this.httpClient.get<News>(`${this.controller}/${id}`);\n  }\n\n  getNewsList(): Observable<NewsViewModel[]> {\n    return this.httpClient.get<NewsViewModel[]>(`news`);\n  }\n\n  createNews(newNews: News): Observable<NewsViewModel> {\n    return this.httpClient.post<NewsViewModel>(`${this.controller}`, newNews);\n  }\n\n  updateNews(updatedNews: News): Observable<void> {\n    return this.httpClient.post<void>(\n      `${this.controller}/update/${updatedNews.article.ID}`,\n      updatedNews\n    );\n  }\n\n  deleteNews(ids: number[]): Observable<void> {\n    ids.forEach(id => this.httpBody.append('id[]', `${id}`));\n    return this.httpClient.post<void>(\n      `${this.controller}/delete`,\n      this.httpBody.toString()\n    );\n  }\n}\n","export interface NewsModel {\n  ID?: number;\n  header: string;\n  content: string;\n  audio?: string;\n  video?: string;\n  image?: string;\n}\n\nexport interface NewsViewModel {\n  ID: number;\n  header: string;\n  content: string;\n  audio?: string;\n  video?: string;\n  image?: string;\n  date_added: Date;\n  date_updated: Date;\n}\n\nexport interface NewsLocaleModel {\n  ID?: number;\n  header: string;\n  content: string;\n  locale: number;\n}\n\nexport class NewsDeletables {\n  article_locale: number[] = [];\n}\n\nexport class News {\n  image: string[] = [];\n  token: string;\n  audios: string[] = [];\n  videos: string[] = [];\n  article: NewsModel;\n  article_locale: NewsLocaleModel[] = [];\n  deleted_ids: NewsDeletables = new NewsDeletables();\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHBzL2lsby1hZG1pbi9zcmMvYXBwL2ZlYXR1cmVzL25ld3MvbmV3cy1mb3JtL25ld3MtZm9ybS5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<div class=\\\"container card shadow-lg pl-5 pr-5 md-3\\\">\\n  <form [formGroup]=\\\"newsForm\\\" (ngSubmit)=\\\"onSubmit()\\\" novalidate>\\n    <ejs-tab id=\\\"element\\\">\\n      <e-tabitems>\\n        <e-tabitem [header]=\\\"headerText[0]\\\">\\n          <ng-template #content>\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col-12 form-group\\\">\\n                <label for=\\\"header\\\">News header</label>\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"header\\\" id=\\\"header\\\"\\n                  placeholder=\\\"News header\\\" />\\n                <small id=\\\"header\\\" class=\\\"form-text text-muted\\\">Header used as News title</small>\\n                <div class=\\\"text-danger\\\" *ngIf=\\\"header.errors\\\">\\n                  <div *ngIf=\\\"header.errors['required']\\\">\\n                    News header is required\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col-12 form-group\\\">\\n                <label for=\\\"newsContent\\\">News content</label>\\n                <textarea formControlName=\\\"content\\\" rows=\\\"10\\\" class=\\\"form-control\\\"></textarea>\\n                <div class=\\\"text-danger\\\" *ngIf=\\\"newsContent.errors\\\">\\n                  <div *ngIf=\\\"newsContent.errors['required']\\\">\\n                    News content is required\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col-12  form-group \\\">\\n                <ejs-uploader #defaultupload [autoUpload]='true' [allowedExtensions]=\\\"'image/*'\\\" name='fileupload'\\n                  [files]='preLoadFiles' [multiple]='false' [asyncSettings]='path'>\\n                </ejs-uploader>\\n\\n              </div>\\n            </div>\\n          </ng-template>\\n        </e-tabitem>\\n        <e-tabitem [header]=\\\"headerText[1]\\\">\\n          <ng-template #content>\\n            <div formArrayName=\\\"newsLocales\\\">\\n              <div *ngFor=\\\"\\n                  let locale of newsLocales.controls;\\n                  let i = index;\\n                  let last = last\\n                \\\" [formGroup]=\\\"locale\\\">\\n                <div class=\\\"row\\\" style=\\\"position:relative;\\\">\\n                  <div class=\\\"col-12 col-sm-4 form-group\\\">\\n                    <label for=\\\"locale\\\">Language</label>\\n                    <select class=\\\"form-control\\\" formControlName=\\\"locale\\\" id=\\\"locale\\\">\\n                      <option *ngFor=\\\"\\n                          let lang of languages;\\n                          let i = index;\\n                          let last = last\\n                        \\\" [value]=\\\"lang.ID\\\">{{ lang.name }}</option>\\n                    </select>\\n                    <div class=\\\"text-danger\\\" *ngIf=\\\"locale.errors\\\">\\n                      <div *ngIf=\\\"locale.errors['required']\\\">\\n                        Hospital region is required\\n                      </div>\\n                    </div>\\n                  </div>\\n                  <div class=\\\"col-12 col-sm-7 form-group \\\">\\n                    <label for=\\\"header\\\">News header</label>\\n                    <input type=\\\"text\\\" formControlName=\\\"header\\\" class=\\\"form-control\\\" id=\\\"header\\\"\\n                      aria-describedby=\\\"News header\\\" placeholder=\\\"News header\\\" />\\n                    <div class=\\\"text-danger\\\" *ngIf=\\\"locale.get('header').errors\\\">\\n                      <div *ngIf=\\\"locale.get('header').errors['required']\\\">\\n                        News header is required\\n                      </div>\\n                    </div>\\n                  </div>\\n                  <button type=\\\"button\\\" class=\\\"btn btn-sm btn-primary\\\" *ngIf=\\\"last\\\"\\n                    [ngClass]=\\\"locale.invalid ? 'btn-warning' : 'btn-primary'\\\" [disabled]=\\\"locale.invalid\\\"\\n                    (click)=\\\"addLocale()\\\">\\n                    <i class=\\\"fa fa-plus\\\"></i>\\n                  </button>\\n                  <button type=\\\"button\\\" class=\\\"btn btn-sm rounded  btn-danger\\\" (click)=\\\"deleteLocale(i)\\\">\\n                    <i class=\\\"fa fa-trash\\\"></i>\\n                  </button>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-12 col-sm-12 form-group\\\">\\n                    <label for=\\\"newsContent\\\">News content</label>\\n                    <textarea formControlName=\\\"content\\\" rows=\\\"10\\\" id=\\\"newsContent\\\" class=\\\"form-control\\\"></textarea>\\n                    <small id=\\\"address\\\" class=\\\"form-text text-muted\\\">Address of the Emergency contact.</small>\\n                    <div class=\\\"text-danger\\\" *ngIf=\\\"locale.get('content').errors\\\">\\n                      <div *ngIf=\\\"locale.get('content').errors['required']\\\"></div>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-12  form-group \\\">\\n                    <ejs-uploader #defaultupload [autoUpload]='false' [allowedExtensions]=\\\"'image/*'\\\" name='fileupload'\\n                      [files]='preLoadFiles' [multiple]='false' [asyncSettings]='path'>\\n                    </ejs-uploader>\\n\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"text-right\\\">\\n              <button type=\\\"button\\\" (click)=\\\"addLocale()\\\" class=\\\"btn  btn-success\\\" *ngIf=\\\"newsLocales.length == 0\\\">\\n                <i class=\\\"fa fa-plus \\\"></i>Add Language\\n              </button>\\n            </div>\\n          </ng-template>\\n        </e-tabitem>\\n      </e-tabitems>\\n    </ejs-tab>\\n    <button type=\\\"submit\\\" [ngClass]=\\\"newsForm.invalid ? 'btn-danger' : 'btn-success'\\\" class=\\\"btn\\\">\\n      Submit\\n    </button>\\n  </form>\\n</div>\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NewsApiService } from '../news-api.service';\nimport {\n  FormBuilder,\n  FormGroup,\n  Validators,\n  FormControl,\n  FormArray\n} from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { SystemApiService, Guid } from '../../../system-api.service';\nimport { News, NewsLocaleModel } from '../news-data.model';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { UploaderComponent } from '@syncfusion/ej2-angular-inputs';\n\n@Component({\n  selector: 'bionic-news-form',\n  templateUrl: './news-form.component.html',\n  styleUrls: ['./news-form.component.css']\n})\nexport class NewsFormComponent implements OnInit {\n  public headerText: Object = [\n    { text: 'Enlish Language (default)' },\n    { text: 'Other Languages' }\n  ];\n\n  @ViewChild('defaultupload')\n  public defaultUpload: UploaderComponent;\n\n  public newsForm: FormGroup;\n  private newsId: number;\n  public languages: any;\n  public isUpdate: Boolean;\n  public deletedIds: number[] = [];\n  formId: any;\n  path: { saveUrl: string; removeUrl: string };\n  preLoadFiles: string[];\n\n  constructor(\n    private newsApi: NewsApiService,\n    private formBuilder: FormBuilder,\n    private activatedRoute: ActivatedRoute,\n    private systemConf: SystemApiService\n  ) {\n    this.createForm();\n    this.formId = Guid.newGuid();\n    this.path = {\n      saveUrl: `http://localhost/ilo_app/backend/index.php/upload/media/english/${\n        this.formId\n      }`,\n      removeUrl:\n        'http://localhost/ilo_app/backend/index.php/upload/media_delete/news'\n    };\n  }\n\n  ngOnInit() {\n    this.newsId = +this.activatedRoute.snapshot.paramMap.get('newsId');\n\n    if (this.newsId) {\n      this.isUpdate = true;\n      this.newsApi\n        .getNewsById(this.newsId)\n        .subscribe((data: News) => this.initializeForm(data));\n    }\n    this.systemConf\n      .getLanguagesList()\n      .subscribe((data: any) => (this.languages = data));\n  }\n\n  private createForm(): void {\n    this.newsForm = this.formBuilder.group({\n      header: ['', Validators.required],\n      content: ['', Validators.required],\n      audio: [''],\n      image: [''],\n      video: [''],\n      newsLocales: this.formBuilder.array([])\n    });\n  }\n\n  get header(): FormControl {\n    return this.newsForm.get('header') as FormControl;\n  }\n\n  get newsContent(): FormControl {\n    return this.newsForm.get('content') as FormControl;\n  }\n\n  get audio(): FormControl {\n    return this.newsForm.get('audio') as FormControl;\n  }\n\n  get video(): FormControl {\n    return this.newsForm.get('video') as FormControl;\n  }\n\n  get image(): FormControl {\n    return this.newsForm.get('image') as FormControl;\n  }\n\n  get newsLocales(): FormArray {\n    return this.newsForm.get('newsLocales') as FormArray;\n  }\n\n  addLocale(): void {\n    this.newsLocales.controls.push(this.generateLocaleForm());\n  }\n\n  deleteLocale(index: number): void {\n    const deletedControlId = this.newsLocales.controls[index].get('id');\n    if (deletedControlId) {\n      const conf = confirm('Are you sure you want to delete');\n\n      if (conf) {\n        this.deletedIds.push(deletedControlId.value);\n        this.newsLocales.removeAt(index);\n      }\n    } else {\n      this.newsLocales.removeAt(index);\n    }\n  }\n\n  private initializeForm(news: News): void {\n    this.newsForm = this.formBuilder.group({\n      header: [news.article.header, Validators.required],\n      content: [news.article.content, Validators.required],\n      audio: [news.article.audio],\n      image: [news.article.image],\n      video: [news.article.video],\n      newsLocales: this.formBuilder.array([])\n    });\n\n    news.article_locale.map(element =>\n      this.newsLocales.push(this.initializeLocaleForm(element))\n    );\n\n  }\n\n  private generateLocaleForm(): FormGroup {\n    return this.formBuilder.group({\n      header: ['', Validators.required],\n      content: ['', Validators.required],\n      locale: ['', Validators.required]\n    });\n  }\n\n  private initializeLocaleForm(locale: NewsLocaleModel): FormGroup {\n    return this.formBuilder.group({\n      id: [locale.ID, Validators.required],\n      header: [locale.header, Validators.required],\n      content: [locale.content, Validators.required],\n      locale: [locale.locale, Validators.required]\n    });\n  }\n\n  private submitForm(): void {\n    const formData = this.prepareFormData();\n\n    if (formData) {\n      if (this.isUpdate) {\n        this.newsApi\n          .updateNews(formData)\n          .subscribe(\n            () => alert('News updated successfully'),\n            (error: HttpErrorResponse) =>\n              alert('Failed while attempting to update news try again')\n          );\n      } else {\n        this.newsApi.createNews(formData).subscribe(\n          (data: any) => {\n            this.isUpdate = true;\n            this.newsId = data;\n            alert('New created successfully');\n          },\n          (error: HttpErrorResponse) => {\n            alert('Failed while creating new, try again');\n          }\n        );\n      }\n    }\n  }\n  onSubmit(): void {\n    this.defaultUpload.upload(this.defaultUpload.getFilesData());\n    this.submitForm();\n  }\n\n  private prepareFormData(): News | null {\n    const news = new News();\n    if (this.newsForm.valid) {\n      if (this.isUpdate && this.newsId) {\n        news.article = {\n          ID: this.newsId,\n          header: this.header.value,\n          content: this.newsContent.value,\n          audio: this.audio.value,\n          video: this.video.value,\n          image: this.image.value\n        };\n      } else {\n        news.article = {\n          header: this.header.value,\n          content: this.newsContent.value,\n          audio: this.audio.value,\n          video: this.video.value,\n          image: this.image.value\n        };\n      }\n\n      this.newsLocales.controls.forEach(element => {\n        news.article_locale.push({\n          ID: element.value.id,\n          content: element.value.content,\n          header: element.value.header,\n          locale: element.value.locale\n        });\n      });\n\n      this.deletedIds.forEach(element => {\n        news.deleted_ids.article_locale.push(element);\n      });\n\n      news.token = this.formId;\n\n      return news;\n    } else {\n      return null;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NewsViewComponent } from './news-view/news-view.component';\nimport { NewsFormComponent } from './news-form/news-form.component';\n\nconst routes: Routes = [\n  { path: '', component: NewsViewComponent },\n  { path: 'new', component: NewsFormComponent },\n  { path: ':newsId/update', component: NewsFormComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NewsRoutingModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHBzL2lsby1hZG1pbi9zcmMvYXBwL2ZlYXR1cmVzL25ld3MvbmV3cy12aWV3L25ld3Mtdmlldy5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<bionic-data-grid-view\\n  [columnsList]=\\\"columnsList\\\"\\n  [data]=\\\"data\\\"\\n  [showDelete]=\\\"true\\\"\\n  [showUpdate]=\\\"true\\\"\\n  [enableFilter]=\\\"true\\\"\\n  [enablePaging]=\\\"true\\\"\\n  [enableSearching]=\\\"true\\\"\\n  [enableSorting]=\\\"true\\\"\\n  [idKey]=\\\"'ID'\\\"\\n  [showColumnChooser]=\\\"true\\\"\\n  (deleteRecord)=\\\"deleteNews($event)\\\"\\n></bionic-data-grid-view>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { NewsApiService } from '../news-api.service';\nimport { NewsViewModel } from '../news-data.model';\nimport { CustomGridColumns } from '@bionic/shared-component';\nimport { HttpErrorResponse } from '@angular/common/http';\n\n@Component({\n  selector: 'bionic-news-view',\n  templateUrl: './news-view.component.html',\n  styleUrls: ['./news-view.component.css']\n})\nexport class NewsViewComponent implements OnInit {\n  public data: NewsViewModel[] = [];\n  public columnsList: CustomGridColumns[] = [\n    {\n      key: 'ID',\n      width: 30,\n      header: 'id',\n      type: 'string',\n      visible: false\n    },\n    {\n      key: 'header',\n      header: 'News header',\n      type: 'string'\n    },\n\n    {\n      header: 'Added',\n      key: 'date_added',\n      type: 'date',\n      format: 'yMd',\n      visible: false,\n      width: 100\n    },\n    {\n      header: 'Updated',\n      key: 'date_updated',\n      type: 'date',\n      format: 'yMd',\n      visible: false,\n      width: 100\n    }\n  ];\n  constructor(private newsApi: NewsApiService) {}\n\n  ngOnInit() {\n    this.newsApi.getNewsList().subscribe(data => (this.data = data));\n  }\n\n  deleteNews(data: any): void {\n    this.newsApi\n      .deleteNews(data.ID)\n      .subscribe(\n        () => alert('News deleted successfully'),\n        (error: HttpErrorResponse) =>\n          alert('failed while attempting to delete news try again')\n      );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NewsRoutingModule } from './news-routing.module';\nimport { SharedComponentModule } from '@bionic/shared-component';\nimport { NewsViewComponent } from './news-view/news-view.component';\nimport { NewsFormComponent } from './news-form/news-form.component';\nimport { NewsApiService } from './news-api.service';\nimport { TabModule } from '@syncfusion/ej2-angular-navigations';\nimport { UploaderModule } from '@syncfusion/ej2-angular-inputs';\n\n@NgModule({\n  declarations: [NewsFormComponent, NewsViewComponent],\n  imports: [\n    CommonModule,\n    NewsRoutingModule,\n    SharedComponentModule,\n    TabModule,\n    UploaderModule\n  ],\n  providers: [NewsApiService]\n})\nexport class NewsModule {}\n"],"sourceRoot":""}